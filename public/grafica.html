<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Francisco Javier Sanz Rayo">
    <title>DAW-M09 - Web Bootstrap - Inici</title>

    <!-- Enllaç al CSS de bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <!-- Enllaç a Font Awesome -->
    <script src="https://kit.fontawesome.com/350bb898bc.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="styles.css"><!--CSS-->

    <!-- Incloure la llibreria de D3.js -->
    <script src="https://d3js.org/d3.v6.min.js"></script>
</head>

<body>
    <!-- Inici de la capçalera -->
    <header>
        <div class="row text-white align-items-center fixed-top" style="background-color: white;">
            <div class="col-4 col-sm-4 col-md-8">
                <a href="index.html">
                    <img src="images/logoBlanco.png" class="img-fluid logo" alt="Logo de VitKat"
                        style="max-width: 50px;">
                </a>
            </div>
            <div class="col-4 col-sm-4 col-md-2">

                <a href="iniciarSessio.html">
                    <i class="fa-solid fa-user"></i>
                    Iniciar sessió
                </a>
            </div>
            <div class="col-4 col-sm-4 col-md-2">
                <!-- Selector d'idioma -->
                <select name="idiomes">
                    <option value="es">Español</option>
                    <option value="ca">Català</option>
                </select>
            </div>
        </div>
    </header>


    <!-- Inici del menú  -->
    <nav class="navbar navbar-expand-md navbar-light fixed-top bg-dark mt-5">
        <button type="button" class="navbar-toggler bg-light" data-bs-toggle="collapse" data-bs-target="#nav"
            aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="nav">
            <ul class="navbar-nav">
                <li class="nav-item active">

                    <a class="nav-link text-light font-weight-bold text-uppercase px-3 " href="index.html"> <i
                            class="fa-solid fa-house" style="padding-right: 10px;"></i>Inici</a>
                </li>
                <li class="nav-item">

                    <a class="nav-link text-light font-weight-bold text-uppercase px-3" href="contacte.html"><i
                            class="fa-solid fa-address-book" style="padding-right: 10px;"></i>Contacte</a>
                </li>
                <li class="nav-item">

                    <a class="nav-link text-light font-weight-bold text-uppercase px-3" href="registrat.html"><i
                            class="fa-solid fa-user" style="padding-right: 10px;"></i>Registrat</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-light font-weight-bold text-uppercase px-3" href="#"
                        id="eac2Dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        EAC2
                    </a>
                    <ul class="dropdown-menu bg-dark" aria-labelledby="eac2Dropdown">
                        <li><a class="nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="imatges.html"><i class="fa-regular fa-image"
                                    style="padding-right: 10px;"></i>Imatges</a></li>
                        <li><a class="nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="audio.html"><i class="fa-solid fa-music"
                                    style="padding-right: 10px;"></i>Audio</a></li>
                        <li><a class="nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="video.html"><i class="fa-solid fa-video"
                                    style="padding-right: 10px;"></i>Video</a></li>
                        <li><a class="nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="playlist.html"><i class="fa-solid fa-video"
                                    style="padding-right: 10px;"></i>Playlist</a></li>
                        <li><a class="nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="transicions.html">Transicions</a></li>
                        <li><a class="nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="animacions.html">Animacions</a></li>
                        <li><a class="active nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="grafica.html"> <i class="fa-solid fa-chart-simple"
                                    style="padding-right: 10px;"></i>Gràfica</a></li>
                        <li><a class=" nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="galeria.html"><i class="fa-regular fa-image"
                                    style="padding-right: 10px;"></i>Galeria</a></li>
                        <li><a class="nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="https://llistatreact.vercel.app"><i class="iconoReact"></i>Llistat</a></li>
                        <li><a class="nav-link text-light font-weight-bold text-uppercase px-3 dropdown-item"
                                href="https://eacxavi.vercel.app"><i class="iconoAngular"></i>Contacte</a></li>
                    </ul>
                </li>
            </ul>
            <!-- Barra de cerca -->
            <form>
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Cerca" aria-label="Cerca">
                    <button class="btn bg-light input-group-text" id="search-button" type="button"
                        onclick="window.location.href='cercle.html'">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </div>
            </form>
        </div>
    </nav>
    <main>
        <div class="contenidorPrincipal">
            <div class="seleccioGrafic">
                <label for="tipusGrafic">
                    <p>Selecciona el tipus de gràfic:</p>
                </label>
                <select id="tipusGrafic">
                    <option value="bar">Barres</option>
                    <option value="pastis">Pastís</option>
                    <option value="donut">Donut</option>
                </select>
            </div>
            <div class="dibuixGrafic" style="padding-top: 10;">

                <svg width="600" height="400"></svg>
            </div>
        </div>
        <script>
            var data = [65.18, 18.55, 5.26, 2.74, 2.56, 2.15];

            // Funció per dibuixar diferents tipus de gràfics
            function drawChart(type) {
                var svg = d3.select("svg");
                svg.selectAll("*").remove(); // Esborrem el gràfic anterior

                if (type === "bar") {
                    // Crear una escala per a l'eix Y
                    // Crear una escala per a l'eix Y
                    var yScale = d3.scaleLinear()
                        .domain([0, d3.max(data)])
                        .range([0, 400]);

                    // Crear una escala per a l'eix X
                    var xScale = d3.scaleBand()
                        .domain(data)
                        .range([0, 600])
                        .padding(0.1);

                    // Afegir les barres al gràfic
                    d3.select("svg")
                        .selectAll("rect")
                        .data(data)
                        .enter()
                        .append("rect")
                        .attr("x", function (d) { return xScale(d); })
                        .attr("y", function (d) { return 400 - yScale(d); })
                        .attr("width", xScale.bandwidth())
                        .attr("height", function (d) { return yScale(d); })
                        .attr("fill", "teal");

                    // Afegir els valors a dins de les barres
                    d3.select("svg")
                        .selectAll("text")
                        .data(data)
                        .enter()
                        .append("text")
                        .text(function (d) { return d; })
                        .attr("x", function (d) { return xScale(d) + xScale.bandwidth() / 2; })
                        .attr("y", function (d) { return 400 - yScale(d) + 14; })
                        .attr("text-anchor", "middle")
                        .style("fill", "white");

                    // Afegir les etiquetes per a l'eix X
                    d3.select("svg")
                        .append("g")
                        .attr("transform", "translate(0, 400)")
                        .call(d3.axisBottom(xScale))
                        .selectAll("text")
                        .attr("y", "10")
                        .attr("x", "-5")
                        .attr("text-anchor", "end")
                        .attr("transform", "rotate(-40)");

                    // Afegir les etiquetes per a l'eix Y
                    d3.select("svg")
                        .append("g")
                        .call(d3.axisLeft(yScale));

                    // Afegir el valor a cada barra
                    d3.select("svg")
                        .selectAll("text")
                        .data(data)
                        .enter()
                        .append("text")
                        .text(function (d) { return d; })
                        .attr("x", function (d) { return xScale(d) + xScale.bandwidth() / 2; })
                        .attr("y", function (d) { return 400 - yScale(d) + 14; })
                        .attr("text-anchor", "middle")
                        .style("fill", "black");
                } else if (type === "pastis" || type === "donut") {
                    // Dibuixar gràfic de pastís o donut
                    var radius = Math.min(600, 400) / 2;
                    var arc = d3.arc()
                        .innerRadius(type === "donut" ? 100 : 0)  // Radius interior (0 per pastís, 100 per donut)
                        .outerRadius(radius);

                    var pie = d3.pie();

                    var g = svg.append("g")
                        .attr("transform", `translate(300,200)`);  // Centra el gràfic

                    g.selectAll("path")
                        .data(pie(data))
                        .enter()
                        .append("path")
                        .attr("d", arc)
                        .attr("fill", (d, i) => d3.schemeCategory10[i % 10]);
                }
            }

            // Dibuixar gràfic inicial
            drawChart(document.getElementById("tipusGrafic").value);

            // Listener per al canvi d'opció
            document.getElementById("tipusGrafic").addEventListener("change", function () {
                drawChart(this.value);
            });
        </script>

    </main>

    <!-- Inici del peu de pàgina -->
    <footer class="bg-dark text-white p-4">
        <div class=" row align-items-center justify-content-center">
            <div class="col-md-3 col-12 mb-2">
                <a href="#">
                    <img src="images/logo.png" alt="Logo de VitKat" width="200" height="200">
                </a>
            </div>
            <div class="col-md-3 col-12 mb-2">
                <h4 style="color: #ffc107;">Ajuda</h4>
                <p>Preguntes freqüents</p>
                <p>Condicions de compra</p>
                <p>Política de privadesa</p>
                <p>Canal de denúncies</p>
                <p>Avís legal</p>
            </div>
            <div class="col-md-3 col-12 mb-2">
                <h4 style="color: #ffc107;">Contacte</h4>
                <p>Formulari de contacte</p>
                <p>Whatsapp - 684541447</p>
                <p>Telèfon - 938748710</p>
            </div>
            <div class="col-md-3 col-12 mb-2">
                <h4 style="color: #ffc107;">Segueix-nos</h4>
                <a href="https://www.facebook.com" target="_blank">
                    <i class="fa-brands fa-facebook"></i>
                </a>
                <a href="https://www.x.com" target="_blank">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="https://www.instagram.com" target="_blank">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.youtube.com" target="_blank">
                    <i class="fab fa-youtube"></i>
                </a>
            </div>
        </div>
    </footer>



    <!-- Enllaç a Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>


</body>

</html>